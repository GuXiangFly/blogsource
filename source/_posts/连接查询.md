---
title: 连接查询
date: 2017-8-2 20:09:04
tags: [数据库]

---

## 连接查询
连接查询: 将多张表(可以大于2张)进行记录的连接(按照某个指定的条件进行数据拼接): 最终结果是: 记录数有可能变化, 字段数一定会增加(至少两张表的合并)

连接查询的意义: 在用户查看数据的时候,需要显示的数据来自多张表.

连接查询: join, 使用方式: 左表 join 右表
左表: 在join关键字左边的表
右表: 在join关键字右边的表


## 内连接
内连接: [inner] join, 从左表中取出每一条记录,去右表中与所有的记录进行匹配: 匹配必须是某个条件在左表中与右表中相同最终才会保留结果,否则不保留.

### 基本语法
左表 [inner] join 右表 on 左表.字段 = 右表.字段; on表示连接条件: 条件字段就是代表相同的业务含义(如my_student.c_id和my_class.id)


**内连接可以没有连接条件**: 没有on之后的内容,这个时候系统会保留所有结果(笛卡尔积)

**内连接还可以使用where代替on关键字(where没有on效率高)**

因为where 是将笛卡尔积查出来后过滤 on则是拿着左表的条件去匹配右表 匹配上了才选出来


## 外连接
**外连接**: outer join, 以某张表为主,取出里面的所有记录, 然后每条与另外一张表进行连接: **不管能不能匹配上条件,最终都会保留: 能比配,正确保留; 不能匹配,其他表的字段都置空NULL.**

外连接分为两种: 是以某张表为主: 有主表
- Left join: 左外连接(左连接), 以左表为主表
- Right join: 右外连接(右连接), 以右表为主表

基本语法: 左表 left/right join 右表 on 左表.字段 = 右表.字段;


虽然左连接和右连接有主表差异, 但是显示的结果: 左表的数据在左边,右表数据在右边.

左连接和右连接可以互转.

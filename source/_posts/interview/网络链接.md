---
title: 网络链接
date: 2017-7-27 20:09:04
tags: [网络链接]

---
网络连接

### TCP 三次握手
![](https://raw.githubusercontent.com/GuXiangFly/imagerepo/master/img20181026023104.png)


### TCP 四次挥手
![](https://i.loli.net/2019/11/05/9lAfcDonwYGkLZv.png)  
  为什么会有两个2MSL呢？
  为了确保有足够的时间 收到 ACK包


### 网络的五层模型
![](https://raw.githubusercontent.com/GuXiangFly/imagerepo/master/img20181202225206.png)



- 物理层：  主要就是光缆等东西
- 数据链路层： 数据 01 01 编码解码等东西
- 网络层：对每个电脑给一个ip地址，包括ip 的协议，类似 ipv4  ipv6 就是在网络层
- 传输层：TCP 在这一层进行传输
- 应用层：

www.ctokey.com

### 电脑访问一个网页的过程是怎样的

流程如下
- 1.查询缓存 （浏览器有302缓存）
- 2.DNS解析 ，DNS解析到一个 ip地址，比方说是 172.194.26.108，这个
- 3.获取IP
- 4.建立TCP链接
- 5.发HTTP请求
- 6.接受http数据并且解析
- 7.关闭链接







HTTPS的流程：

![image-20211006211136870](https://gitee.com/guxiangfly/blogimage/raw/master/img/image-20211006211136870.png)

### 加密算法

- 对称加密：

  - 我有一本书，写出密码 35、9   翻到书的35页第九个字，那么就是我想要发的明文 （撤）

  -  缺点:  
     - ```黑客很有可能能获取到这本书， 并且通过密码的规律，破译密码并且篡改密文 （篡改密文比较严重）。```
     
     类似下图，
     
     - **由于密钥是通过服务器发给我的，所以密钥是有被窃听的风险的。**
     
     整体示意图
     
     ![image-20211006174654443](https://gitee.com/guxiangfly/blogimage/raw/master/img/image-20211006174654443.png)

  

- 非对称加密：

  - 原始信息：269  

    公钥： 91

    公钥加密 产生密文： 269 * 91 = 24479

    服务端有私钥：11

    解密方式：

    - 使用 24479 *11 取后三位 = 269

    ```
    假设我现在是一个黑客： 我知道了公钥是11， 但是我不知道私钥是91， 于是我就没有办法伪造私钥。
    也就是说：黑客只会解密，不会加密，这样就无法篡改密文了    
    ```
  
- ```
  公钥加密-私钥解密
  私钥加签-公钥验签
  ```





![image-20211006211501392](https://gitee.com/guxiangfly/blogimage/raw/master/img/image-20211006211501392.png)







### 比特币交易原理

问题： A支付5元给B 

1.  如何确定这条信息的完整性？
2. 如何确保问题的真实性？



概念：

1. 数字签名（数字指纹/数字摘要）
2. 



如何确保信息的完整性？

- A 发送了  ” A支付5元给B“ 这个信息，并且将”A支付5元给B“ 






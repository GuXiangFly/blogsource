---

title: 网络方面
date: 2017-11-11 13:09:04
tags: [JVM,java]

---
## 1、 HTTP是网络七层协议中哪一层的协议？

**参考答案：**应用层。

**解题思路：**基础知识

**考察点：**OSI七层协议的基础知识

**分类：**HTTP，基础知识，网络，{校招，社招都可以用}

**难度分级：**P4

## 2、Get和Post区别？

**参考答案：** 

HTTP定义了与服务器交互的不同方法，最基本的方法有4种，分别是GET，POST，PUT，DELETE。这里主要讨论前2种GET和POST。 

GET - 从指定的资源请求数据。

POST - 向指定的资源提交要被处理的数据。 

在开始对比前，需要理解1个概念，幂等(idempotent) 

在HTTP/1.1规范中幂等性的定义是：

Methods can also have the property of "idempotence" in that (aside from error or expiration issues) the side-effects of N > 0 identical requests is the same as for a single request.

幂等的意味着对同一URL的多个请求应该返回同样的结果。根据HTTP规范，GET用于信息获取，而且应该是安全的和幂等的。

所谓安全的意味着该操作用于获取信息而非修改信息。换句话说，GET 请求一般不应产生副作用。

就是说，它仅仅是获取资源信息，就像数据库查询一样，不会修改，增加数据，不会影响资源的状态 

 **GET****POST**后退按钮/刷新无害数据会被重新提交（浏览器应该告知用户数据会被重新提交）。书签可收藏为书签不可收藏为书签缓存能被缓存不能缓存编码类型application/x-www-form-urlencodedapplication/x-www-form-urlencoded 或 multipart/form-data。为二进制数据使用多重编码。历史参数保留在浏览器历史中。参数不会保存在浏览器历史中。对数据长度的限制是的。当发送数据时，GET 方法向 URL 添加数据；URL 的长度是受限制的（URL 的最大长度是 2048 个字符）。无限制。对数据类型的限制只允许 ASCII 字符。没有限制。也允许二进制数据。安全性与 POST 相比，GET 的安全性较差，因为所发送的数据是 URL 的一部分。在发送密码或其他敏感信息时绝不要使用 GET ！POST 比 GET 更安全，因为参数不会被保存在浏览器历史或 web 服务器日志中。可见性数据在 URL 中对所有人都是可见的。数据不会显示在 URL 中。

**解题思路：**HTTP基础知识，从面向数据提交方式、安全性等方面进行对比，如果能阐述幂等性更好

**考察点：**幂等性，GET和POST信息的提交方式

**分类：**网络应用层，HTTP基础知识{校招，社招都可以用}

**难度分级：**P4，P5

##  3、描述一下一次HTTP请求从请求到返回的过程，越详细越深入越好。 (或者，访问一个url 都经历过了哪些事情，越详细越好。) 

**参考答案：**

1）把URL分割成几个部分：协议、网络地址、资源路径。

其中网络地址指示该连接网络上哪一台计算机，可以是域名或者IP地址，可以包括端口号；

协议是从该计算机获取资源的方式，常见的是HTTP、FTP，不同协议有不同的通讯内容格式；资源路径指示从服务器上获取哪一项资源。

例如：http://www.guokr.com/question/554991/

协议部分：http

网络地址：[www.guokr.com](http://www.guokr.com/)

资源路径：/question/554991/

2）如果地址不是一个IP地址，通过DNS（域名系统）将该地址解析成IP地址。

IP地址对应着网络上一台计算机，DNS服务器本身也有IP，你的网络设置包含DNS服务器的IP。

例如：[www.guokr.com](http://www.guokr.com/) 不是一个IP，向DNS询问请求[www.guokr.com](http://www.guokr.com/) 对应的IP，获得IP： 111.13.57.142。

这个过程里，你的电脑直接询问的DNS服务器可能没有[www.guokr.com](http://www.guokr.com/) 对应的IP，就会向它的上级服务器询问_=8C

上级服务器同样可能没有，就依此一层层向上找，最高可达根节点，找到或者全部找不到为止。

(DNS缓存和解析过程是一个考察点，有些面试者能叙述出完整的过程，有些只能给出笼统的结果，以下是DNS缓存策略)

**浏览器缓存** – 浏览器会缓存DNS记录一段时间。 有趣的是，操作系统没有告诉浏览器储存DNS记录的时间，这样不同浏览器会储存个自固定的一个时间（2分钟到30分钟不等）。
**系统缓存** – 如果在浏览器缓存里没有找到需要的记录，浏览器会做一个系统调用（windows里是gethostbyname）。这样便可获得系统缓存中的记录。
**路由器缓存** – 接着，前面的查询请求发向路由器，它一般会有自己的DNS缓存。
**ISP DNS 缓存** – 接下来要check的就是ISP缓存DNS的服务器。在这一般都能找到相应的缓存记录。
**递归搜索** – 你的ISP的DNS服务器从跟域名服务器开始进行递归搜索，从.com顶级域名服务器到Facebook的域名服务器。一般DNS服务器的缓存中会有.com域名服务器中的域名，所以到顶级服务器的匹配过程不是那么必要了。

3）如果地址不包含端口号，根据协议的默认端口号确定一个。

端口号之于计算机就像窗口号之于银行，一家银行有多个窗口，每个窗口都有个号码，不同窗口可以负责不同的服务。

端口只是一个逻辑概念，和计算机硬件没有关系。

例如：[www.guokr.com](http://www.guokr.com/) 不包含端口号，http协议默认端口号是80。

如果你输入的url是http://www.guokr.com:8080/ ，那表示不使用默认的端口号，而使用指定的端口号8080。

4）向2和3确定的IP和端口号发起网络连接。
例如：向111.13.57.142的80端口发起连接

5）根据http协议要求，组织一个请求的数据包，里面包含大量请求信息，包括请求的资源路径、你的身份
例如：用自然语言来表达这个数据包，大概就是：请求 /question/554991/ ，我的身份是xxxxxxx。

6）服务器响应请求，将数据返回给浏览器。数据可能是根据HTML协议组织的网页，里面包含页面的布局、文字。数据也可能是图片、脚本程序等。现在你可以用浏览器的“查看源代码”功能，感受一下服务器返回的是什么东东。如果资源路径指示的资源不存在，服务器就会返回著名的404错误。

7）如果（6）返回的是一个页面，根据页面里一些外链的URL，例如图片的地址，按照（1）－（6）再次获取。

8）开始根据资源的类型，将资源组织成屏幕上显示的图像，这个过程叫渲染，网页渲染是浏览器最复杂、最核心的功能。

9）将渲染好的页面图像显示出来，并开始响应用户的操作。

以上只是最基本的步骤，实际不可能就这么简单，一些可选的步骤例如网页缓存、连接池、加载策略、加密解密、代理中转等等都没有提及。

即使基本步骤本身也有很复杂的子步骤，TCP/IP、DNS、HTTP、HTML：每一个都可以展开成庞大的课题，而浏览器的基础——操作系统、编译器、硬件等更是一个比一个复杂。

这道题说难不难，说容易不容易，不同层次不同水平的面试者可能会有不同的表现和见解，上面仅是答题要点，面试人员的表现和他的理解层次需要面试官酌情判定。

**解题思路：**从一个请求的时间上顺序进行阐述，涉及多个过程，最好能做深入

**考察点：**网络综合知识

**分类：**基础知识，网络{校招，社招都可以用}

**难度分级：**P4，P5，P6

## 4、举出6个http的状态码，502 和 504有什么区别。

**参考答案：**

大类区分见下表  

**状态码范围****作用**100-199用于指定客户端应相应的某些动作。200-299用于表示请求成功。300-399用于已经移动的文件并且常被包含在定位头信息中指定新的地址信息。400-499用于指出客户端的错误。500-599用于支持服务器错误。 

具体每个码的含义见右边的链接->[HTTP状态码大全](https://wiki.sankuai.com/:pages:viewpage.action%3FpageId=94639661)

502 Bad Gateway：作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。

504 Gateway Time-out：作为网关或者代理工作的服务器尝试执行请求时，未能及时从上游服务器（URI标识出的服务器，例如HTTP、FTP、LDAP）或者辅助服务器（例如DNS）收到响应。

502 Bad Gateway：Tomcat没有启动起来 

504 Gateway Time-out: Nginx报出来的错误，一般是Nginx做为反向代理服务器的时候，所连接的应用服务器譬如Tomcat无相应导致的 

**解题思路：**基础知识

**考察点：**HTTP的基础知识，要求能记住工作中常见的几个错误码

**分类：**网络应用层，HTTP，基础知识{社招}

**难度分级：**P5

## 5、UDP，TCP是网络七层协议中哪一层的协议，区别是什么，分别适用于什么场景？

**参考答案：**

传输层。
   在TCP/IP模型中，传输层的功能是使源端主机和目标端主机上的对等实体可以进行会话。
在传输层定义了两种服务质量不同的协议。即：传输控制协议TCP（transmission control protocol）和用户数据报协议UDP（user datagram protocol）。　　

　　TCP协议是一个面向连接的、可靠的协议。它将一台主机发出的字节流无差错地发往互联网上的其他主机。
需要三次握手建立连接，才能进行数据传输。在发送端，它负责把上层传送下来的字节流分成报文段并传递给下层。
在接收端，它负责把收到的报文进行重组后递交给上层。TCP协议还要处理端到端的流量控制，以避免缓慢接收的接收方没有足够的缓冲区接收发送方发送的大量数据。　　
　　UDP协议是一个不可靠的、无连接协议，不与对方建立连接，而是直接就把数据包发送过去。主要适用于不需要对报文进行排序和流量控制的场合。
UDP适用于一次只传送少量数据、对可靠性要求不高的应用环境。比如，我们经常使用“ping”命令来测试两台主机之间TCP/IP通信是否正常，
其 实“ping”命令的原理就是向对方主机发送UDP数据包，然后对方主机确认收到数据包，如果数据包是否到达的消息及时反馈回来，那么网络就是通的。 

 **TCP****UDP**是否连接面向连接面向非连接 传输可靠性可靠不可靠 应用场合传输大量数据少量数据速度慢快 

**解题思路：**基础知识，从面向连接、可靠性、应用场合上进行分析对比

**考察点：**七层协议中传输层的基础知识，着重从TCP vs UDP的区别上考察

**分类：**七层协议，基础知识，网络，{校招，社招都可以用}

**难度分级：**P4，P5

## 6、互联网服务的默认端口是多少？

**参考答案：**

​     HTTP  80  
​     SMTP  25
​     POP3  110
​     FTP  21   20
​     TELNET  23 

**解题思路：**

**考察点：**网络协议，端口

**分类：**网络应用层，基础知识{校招，社招都可以用}

**难度分级：**P5